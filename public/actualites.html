<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Actualités</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/style2.css">
<link rel="stylesheet" href="css/actualites.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">


</head>
<body>
  <style>
    
  </style>
<div class="app-container"> 
    <section class="complexes-container">
      <h1 class="section-title" style="color: var(--dark-blue);">Actualités & Événements – Vie Professionnelle et Dynamique à l'OFPPT Settat</h1>
      <div class="section-underline"></div>
      <div class="ofppt-brief">
        <p class="ofppt-brief__text">
          <strong>Restez connectés aux actualités et événements de l'OFPPT Settat</strong>
          Suivez en temps réel les dernières nouvelles, initiatives et temps forts qui marquent la vie de nos établissements au sein de la province de Settat. Découvrez nos actions de terrain, les projets innovants, les journées portes ouvertes, les concours, les formations certifiantes, ainsi que toutes les opportunités destinées aux stagiaires, aux entreprises partenaires et au grand public.
          Grâce à nos mises à jour régulières, vous ne manquerez aucune information essentielle sur le développement de la formation professionnelle, les nouveautés pédagogiques et les événements institutionnels qui dynamisent notre communauté OFPPT.
        </p>
      </div>
    </section>
  <!-- ANNONCE PREMIUM ÉVÉNEMENT FUTUR -->
<!-- ANNONCES MAJEURES – FORUMS & RENCONTRES -->
<section class="event-annonces-wrapper">
  <div class="app-container"> 
 <section class="complexes-container">
  <h1 class="section-title" style="color: var(--dark-blue);">FORUMS & ÉVÉNEMENT MAJEURES</h1>
  <div class="section-underline"></div>

  <!-- Track de slider : annonce 1 + annonce 2 -->
  <div class="event-annonces-track">
    
    <!-- ================== ANNONCE 1 ================== -->
    <section class="event-annonce-premium" data-index="0">
      <div class="event-annonce-inner">
        
        <!-- Colonne gauche : texte -->
        <div class="event-annonce-left">
          <div class="event-badge">
            <span class="event-badge-pill">ÉVÉNEMENT À VENIR</span>
            <span class="event-date-pill">
              Jeudi 04 Décembre 2025 • 09h30
            </span>
          </div>

          <h3 class="event-title">
            Rencontre Régionale avec les Professionnels
          </h3>

          <p class="event-subtitle">
            Sous le thème :
            « <strong>La relation Formation – Emploi</strong> : vers une approche territoriale intégrée »
          </p>

          <div class="event-infos">
            <div class="event-info-item">
              <i class="fa-solid fa-location-dot"></i>
              <span>Amphithéâtre de l’École Mohammed VI de Formation dans les Métiers du BTP – Settat</span>
            </div>
          </div>

          <div class="event-stats">
            <div class="event-stat">
              <span class="event-stat-number" data-target="150">0</span>
              <span class="event-stat-label">Entreprises participantes</span>
            </div>
            <div class="event-stat">
              <span class="event-stat-number" data-target="300">0</span>
              <span class="event-stat-label">Stagiaires &amp; lauréats</span>
            </div>
            <div class="event-stat">
              <span class="event-stat-number" data-target="600">0</span>
              <span class="event-stat-label">Visiteurs attendus</span>
            </div>
          </div>
          
          <div class="event-partners">
            <span class="event-partners-label">Partenaires & acteurs institutionnels</span>
            <div class="event-partners-logos">
              <span class="partner-chip">CGEM</span>
              <span class="partner-chip">CRI</span>
              <span class="partner-chip">ANAPEC</span>
              <span class="partner-chip">Partenaires média</span>
              <span class="partner-chip">Investisseurs</span>
            </div>
          </div>

          <button class="event-cta">
            <span><a href="sponsoring V2.pdf">En savoir plus</a></span>
            <span class="event-cta-arrow">↗</span>
          </button>
        </div>

        <!-- Colonne droite : galerie horizontale -->
        <div class="event-annonce-right">
          <div class="event-gallery">
            <div class="event-gallery-track">
              <img src="RCBTP1.jpeg" alt="Affiche officielle" class="event-gallery-item">
              <img src="RCBTP2.jpeg" alt="Chiffres & indicateurs" class="event-gallery-item">
              <img src="RCBTP4.png"  alt="Annonce chantier & professionnels" class="event-gallery-item">
            </div>
          </div>
        </div>

      </div>
    </section>
    <!-- =========== FIN ANNONCE 1 =========== -->


    <!-- ================== ANNONCE 2 – FORUM 2026 ================== -->
    <section class="event-annonce-premium event-annonce-forum" data-index="1">
      <div class="event-annonce-inner event-annonce-inner--forum">
        
        <!-- Colonne gauche : texte -->
        <div class="event-annonce-left">
          <div class="event-badge">
            <span class="event-badge-pill event-badge-pill--forum">Forum 2026</span>
            <span class="event-date-pill event-date-pill--forum">
              Jeudi 12 Février 2026 • ISTA 1 Settat
            </span>
          </div>

          <h3 class="event-title event-title--forum">
            Forum Provincial de l’Emploi et des Compétences
          </h3>

          <p class="event-subtitle event-subtitle--forum">
            <strong>La Formation Professionnelle</strong><br>
            Levier de la montée en compétences d’un Maroc en mouvement.
          </p>

          <div class="event-infos">
            <div class="event-info-item">
              <i class="fa-solid fa-location-dot"></i>
              <span>ISTA 1 Settat – Complexe de Formation Professionnelle Settat</span>
            </div>
          </div>

          <div class="event-stats">
            <div class="event-stat event-stat--forum">
              <span class="event-stat-number" data-target="800">0</span>
              <span class="event-stat-label">Profils participants</span>
            </div>
            <div class="event-stat event-stat--forum">
              <span class="event-stat-number" data-target="30">0</span>
              <span class="event-stat-label">Entreprises exposantes</span>
            </div>
            <div class="event-stat event-stat--forum">
              <span class="event-stat-number" data-target="5">0</span>
              <span class="event-stat-label">Médias partenaires</span>
            </div>
          </div>

          <div class="event-partners">
            <span class="event-partners-label event-partners-label--forum">
              Quelques partenaires & sponsors des éditions précédentes
            </span>
            <div class="event-partners-logos">
              <span class="partner-chip partner-chip--forum">Attijariwafa bank</span>
              <span class="partner-chip partner-chip--forum">Crédit Agricole</span>
              <span class="partner-chip partner-chip--forum">CGEM</span>
              <span class="partner-chip partner-chip--forum">Marjane</span>
              <span class="partner-chip partner-chip--forum">ANAPEC</span>
            </div>
          </div>

          <button class="event-cta event-cta--forum">
            <span><a href="Dossier de Sponsoring OFPPT Settat - VF.pdf">Dossier de sponsoring 2026</a></span>
            <span class="event-cta-arrow">↗</span>
          </button>
        </div>

        <!-- Colonne droite : visuel forum 2026 -->
        <div class="event-annonce-right">
          <div class="event-gallery event-gallery--forum">
            <div class="event-gallery-track">
              <img src="FISTA1.png" alt="Forum 2026 - couverture" class="event-gallery-item">
              <img src="FISTA3.png" alt="Forum 2025 - partenaires" class="event-gallery-item">
              <img src="FISTA5.png" alt="Questions ? Contactez-nous" class="event-gallery-item">
            </div>
          </div>
        </div>

      </div>
    </section>
    <!-- =========== FIN ANNONCE 2 =========== -->

  </div>

  <!-- Petits points de navigation -->
  <div class="event-annonces-dots">
    <button class="event-dot is-active" data-index="0"></button>
    <button class="event-dot" data-index="1"></button>
  </div>

  <!-- Overlay zoom global pour les deux galeries -->
  <div id="eventGalleryOverlay" class="event-gallery-overlay">
    <img id="eventGalleryOverlayImg" src="" alt="Image agrandie">
  </div>
</section>
<!-- FIN ANNONCES MAJEURES -->
  <script src="js/head-foot.js"></script>
  <script src="js/event-annonce.js"></script>
  <div id="newsList" class="news-grid"></div>
</div>

<div class="admin-bubble" id="adminBubble">ADM</div>

<script>
document.getElementById('adminBubble').addEventListener('click', () => {
  window.location.href = '/login.html';
});
</script>
<script src="/js/api.js"></script>
<script>
/* Photocopie: génération des cartes */
async function loadNews(){
  // adapter selon ton API : ici j'imagine API.fetchActualites(n)
  let res = { actualites: [] };

  try {
    if (typeof API !== 'undefined' && API.fetchActualites) {
      res = await API.fetchActualites(8); // récupérer 6-8 items
    } else {
      // fallback: si tu veux tester sans API, jette quelques mocks
      res.actualites = [
        { title: 'Une Celebration de La Marche Verte a ISTA BEN AHMAD', slug:'marche-verte-ben-ahmad', date:'05/11/2025', summary:'L\'ISTA Ben Ahmed a célébré la Marche Verte le 5 novembre 2025 en présence du Directeur, des formateurs et des stagiaires.', mainImage:'./images/marche1.jpg', type:'ÉVÉNEMENT' },
        { title: 'Une Celebration de La Marche Verte a ISTA NTIC 2 SETTAT', slug:'marche-ntic-2-settat', date:'05/11/2025', summary:'L\'ISTA 2 NTIC de Settat a organisé, le 5 novembre 2025, une cérémonie commémorative de la Marche Verte.', mainImage:'./images/marche2.jpg', type:'ÉVÉNEMENT' }
      ];
    }
  } catch(e){ console.error('Erreur fetch actualites', e); }

  const items = res.actualites || [];
  const container = document.getElementById('newsList');
  if(!container) return console.warn('newsList introuvable');

  container.innerHTML = '';

  items.forEach(a=>{
    const card = document.createElement('article');
    card.className = 'card';

    const imgSrc = a.mainImage || a.image || './images/default-news.jpg';
    const date = a.date || a.published || '';
    const type = (a.type || 'ÉVÉNEMENT').toUpperCase();

    card.innerHTML = `
      <div class="card-media">
        <img src="${escapeHtml(imgSrc)}" alt="${escapeHtml(a.title||'actualité')}" class="card-img">
      </div>
      <div class="card-body">
        <div class="card-meta">
          <div class="card-badge">${escapeHtml(type)}</div>
          <div class="card-date">${escapeHtml(date)}</div>
        </div>
        <h3>${escapeHtml(a.title || 'Titre')}</h3>
        <p class="slug">${escapeHtml(a.summary || a.excerpt || '')}</p>
        <div class="card-footer">
          <div class="card-tag">Actualité</div>
          <a class="btn" href="actualite.html?slug=${encodeURIComponent(a.slug || '')}">
            Lire plus <span class="arrow" aria-hidden="true"></span>
          </a>
        </div>
      </div>
    `;
    container.appendChild(card);
  });
}

/* Helper d'échappement */
function escapeHtml(str){
  if (str === null || str === undefined) return '';
  return String(str).replace(/[&<>"'`=\/]/g, function(s){
    return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;', "'":'&#39;','/':'&#x2F;','`':'&#x60;','=':'&#x3D;'}[s]);
  });
}

/* Counter animation for stats */
function animateCounter(element, target) {
  const duration = 2000;
  const steps = 60;
  const stepValue = target / steps;
  let current = 0;
  const interval = duration / steps;
  
  const timer = setInterval(() => {
    current += stepValue;
    if (current >= target) {
      element.textContent = Math.floor(target);
      clearInterval(timer);
    } else {
      element.textContent = Math.floor(current);
    }
  }, interval);
}

/* Lancer l'affichage (si tu veux auto) */
document.addEventListener('DOMContentLoaded', function(){ 
  loadNews();
  
  // Animate stat counters
  document.querySelectorAll('.event-stat-number').forEach(el => {
    const target = parseInt(el.getAttribute('data-target')) || 0;
    animateCounter(el, target);
  });
});
</script>

</body>
</html>

